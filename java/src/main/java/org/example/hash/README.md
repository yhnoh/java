

## 해시(Hash)란?
- 해시란 ***임의 길이의 데이터를 고정된 길이의 데이터로 매핑하는 단방향 함수***다. 즉 아무리 큰 데이터를 넣어도 일정한 크기의 출력값(해시값)을 생성한다.
- 주로 데이터의 암호화, 데이터 검색, 중복 데이터 방지 등에 사용된다.

### 해시(Hash) 함수의 특징

#### 1. 단방향성 (One-way)
- 해시 함수는 입력값을 해시값으로 암호화하는 것은 가능하지만, ***해시값을 원래의 입력값으로 복호화하는 것은 매우 어렵다.*** 즉, 해시 함수는 단방향성의 특징을 가진다.
- 때문에 주로 ***데이터의 암호화를 위한 용도***로 사용된다.

#### 2. 고정된 출력 길이 (Fixed Output Length)
- 해시 함수는 입력값의 길이에 상관없이 항상 ***고정된 길이의 해시값을 생성***한다. 
- 예를 들어, SHA-256 해시 함수는 입력값을 256비트(32바이트)의 고정된 길이의 해시값으로 변환한다.
- 때문에 ***저장 공간을 효율적으로 사용***할 수 있다.

#### 3. 눈사태 효과 (Avalanche Effect)
- 해시 함수는 ***입력값이 조금만 변경되어도 출력되는 해시값이 크게 변경되는 특징***을 가진다. 
- 예를 들어, hello 라는 문자열의 해시값과 Hello 라는 문자열의 해시값은 완전히 다르게 생성된다.
- 때문에 ***데이터의 무결성 검증***에 유용하게 사용된다.

### 해시충돌
- 해시 충돌이란 ***서로 다른 두 개 이상의 입력값이 동일한 해시값을 생성하는 현상***을 의미한다.
- 이러한 현상이 발생하는 이유는 고정된 길이의 해시값을 생성하기 때문에, 입력값의 개수가 해시값의 개수보다 많아지면 충돌이 발생할 수밖에 없기 때문이다.
  - 예를들어 1비트 해시 함수는 0과 1 두 가지의 해시값만 생성할 수 있기 때문에, 세 개 이상의 입력값이 존재하면 반드시 충돌이 발생한다.
- 해시 출돌이 발생하게 되면 데이터의 무결성 검증이 어려워진다는 문제점이 있기 때문에, ***해시를 이용하여 프로그래밍을 할 때에는 해시 충돌을 어떻게 해결할 것인지에 대한 고려가 필요***하다.
- 대표적인 해시 충돌 해결 방법으로는 체이닝(Chaining)과 오픈 어드레싱(Open Addressing) 기법이 있다.

#### 체이닝 (Chaining)
- 체이닝은 해시 테이블의 각 버킷을 Linked List나 Tree와 같은 자료구조로 구성하여, ***동일한 해시값을 가지는 입력값들을 해당 버킷에 연결하는 방식***이다.
```text
[Index] | [Bucket]
-------------------
001   | [Data A] -> [Data B] -> [Data C]  <-- 충돌 시 리스트로 연결
002   | [Empty]
003   | [Data D]
004   | [Data E] -> [Data F]
```
- 해시 충돌이 발생하였을때 데이터 삽입이나, 데이터의 삭제가 필요할 경우 ***비교적 쉽게 처리가 가능***하며, 검색 또한 리스트를 순회하면서 데이터를 찾으면 된다.
- 하지만 Linked List나 Tree와 같은 자료구조를 사용하기 때문에 메모리 사용량이 높고, 순회하면서 탐색하는 과정이 필요하기 때문에 CPU 사용량이 증가할 수 있다.

#### 오픈 어드레싱 (Open Addressing)
- 오픈 어드레싱은 해시 충돌이 발생했을 때, ***빈 버킷을 찾아서 데이터를 저장하는 방식***이다.

```text
[Index] | [Bucket]
-------------------
  001   | [Data A]
  002   | [Data B] (원래 001번이었으나 충돌로 밀려남)
  003   | [Data C] (원래 001번이었으나 001, 002가 차있어서 밀려남)
  004   | [Empty]
```

- 해시 충돌이 발생하였을때, 빈 버킷을 찾기위한 탐색 과정이 필요하기 때문에, 데이터 삽입이나 삭제 처리 및 검색 과정이 복잡해질 수 있다.
  - 위의 경우 해시 충돌이 발생하였을 때, 빈 버킷을 찾기 위하여 순차적으로 탐색을 진행했다. (선형 탐사 기법)
  - 선형 탐사 외에도 이차 탐사, 이중 해싱과 같은 다양한 탐사 기법이 존재한다.
- 하지만 단순히 배열만을 사용하기 때문에 ***추가적인 자료구조를 사용하지 않아 메모리 사용량이 적다는 장점***이 있다.
- 오픈 어드레싱의 경우 복잡하지만 하드웨어의 성능을 최대한 활용해야할 때 주로 사용된다.


### 해시 알고리즘
- 해시 알고리즘은 해시 함수를 구현하는 방법을 정의한 알고리즘이다. 다양한 해시 알고리즘이 존재하며, 각각의 알고리즘은 서로 다른 방식으로 해시값을 생성한다.
- 대표적인 해시 알고리즘으로는 MD5, SHA, BCrypt 등이 있다.

#### MD5 (Message-Digest Algorithm 5)
- MD5는 128비트(16바이트) 해시값을 생성하는 해시 알고리즘으로, ***주로 빠르게 해시값을 생성해야하는 경우***에 사용된다. (연산이 단순함)
  - 참고로 MD5는 서로 다른 두 입력값을 가지고 동일한 해시값을 생성하는 악의적인 공격이 가능한 보안 취약점이 발견되어, 보안이 중요한 분야에서는 더 이상 사용되지 않는다.
- 하지만 빠른 속도로 해시값을 생성할 수 있기 때문에 내부적으로 무결성 검증을 위한 용도로 사용된다.
  - 파일 전송 무결성 검증: 로컬과 원격 서버 간에 파일을 전송할 때, 전송된 파일이 손상되지 않았는지 확인하기 위해 MD5 해시값을 비교
  - 데이터 저장 공간 최적화: 데이터베이스에서 중복된 데이터를 식별하고 제거하기 위해 MD5 해시값을 사용하여 데이터의 중복성을 검사

#### SHA-2 (Secure Hash Algorithm 2)
- SHA-1의 후속 버전인 SHA-2는 ***보안성이 강화된 해시 알고리즘***으로,  SHA-224, SHA-256, SHA-384, SHA-512 등 다양한 변종이 존재한다.
- 현대의 보안 표준에서 널리 사용되며, 데이터의 무결성과 신원 확인에 중요한 역할을 하며, 빠른 속도로 해시값을 생성한다.
  - SSL/TLS 인증서
  - JWT

#### BCrypt
- BCrypt는 ***비밀번호 해싱에 특화된 해시 알고리즘으로, 느린 연산 속도, 솔트(salt) 사용이라는 특징***을 가지고 있다.
- 느린 연산 속도는 무차별 대입 공격(Brute-force attack)에 대한 방어력을 높여주며, 솔트 사용은 동일한 비밀번호라도 서로 다른 해시값을 생성하여 보안성을 강화한다.
  - 느린 연산 속도: BCrypt는 기본적으로 느린 해시 연산을 수행하도록 설계되어 있어, 공격자가 빠르게 많은 비밀번호 조합을 시도하는 것을 어렵게 만든다.
  - 솔트 사용: 입력값에 ***무작위로 생성된 Salt를 추가하여 해시값을 생성***함으로써, 동일한 비밀번호라도 서로 다른 해시값을 생성한다.
- 주로 웹 애플리케이션에서 사용자 비밀번호를 안전하게 저장하기 위해 사용된다.


> [나무위키 > SHA](https://namu.wiki/w/SHA)
> [나무위키 > 해시](https://namu.wiki/w/%ED%95%B4%EC%8B%9C)