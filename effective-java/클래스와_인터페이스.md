### 클래스와 멤버의 접근 권한을 최소화 하라.
---

- 잘 설계된 컴포넌트는 모든 내부 구현을 완벽히 숨겨, 구현과 API를 깔끔하게 분리한다.
  - ***오직 API를 통해서만 다른 컴포넌트와 소통하며 서로의 내부 동작방식에는 클라리언트가 신경쓰지 않게끔 설계***되어 있다.

#### 접근 권한 최소화의 기본 원칙
- 기본 원칙은 ***모든 클래스와 멤버의 접근성을 가능한 한 좁혀야 한다.***
  - 톱 레벨 클래스 (가장 바깥의 클래스)는 패키지 외부에 공개할 필요가 없다면 `package-private`으로 선언하자.
    - package-private 클래스는 해당 패키지 이외에 API로 제공되지 않았기 때문에 클라이언트 코드를 수정할 필요 없이, 수정, 교체, 제거가 가능해지진다.
  - 클래스 접근을 정의한 이후 멤버변수도 공개할 필요가 없을 경우 `private`으로 선언하자.
    - 이후 권한을 풀어줘야하는 경우가 자주 발생하는 경우 해당 컴포넌트를 분리해야하는건 아닌지 고민해보자.
- public 클래스의 인스턴스 필드는 되도록 public이 아니여야 한다.
  - public으로 선언하면 변경에 자유로워지고, 해당 필드와 관련된 모든 값을 보장할 수 없게 된다.
  - public 가변 필드를 갖는 클래스는 일반적으로 스레드에 안전하지도 않다.
  - 필드를 public으로 노출하고자 할때는 상수용 public static final을 선언하는 것이 좋다.
    - 기본형 타입에 대해서만 public을 제공하는 것이 좋다.
    - 배열이나 Collection과 같은 경우에는 내부 값을 클라이언트가 수정할 수 있다.
  - 접근성을 좁히지 못하게 방해하는 요인중에 하나가 접근 수준을 상위 클래스에서 보다 좁게 설정할 수 없다는 문제가 있다.

#### 테스트 코드 작성 시 접근 권한은 어떻게?
- 테스트를 하기위한 목적으로 접근 범위를 넓히려 할 때가 있다.
  - pacakge-private까지는 허용할 수 있지만 공개 API로 만들어 버리면 안된다.
  - 다행히 테스트 코드를 테스트 대상과 같은 패키지에 두면 package-private 요소에 접근할 수 있다.




