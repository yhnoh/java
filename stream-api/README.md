
### 스트림
---

- 주로 컬렉션 프레임워크나 이와 유사한 형테의 데이터를 처리할 때 도움을 줄 수 있는, 자바 8에서 새롭게 제안한 API이다.
- 스트림을 이용한 컬렉션 프레임 워크의 가장 큰 특징은 외부 코드로 for 루프를 실행하는 것이 아니라, 스트림 내부에서 개발자가 정의한 코드가 반복적으로 실행된다는 것을 정의한다.
  - 인덱스 변수를 처리하거나 Iterator 객체를 생성하거나 하는 반복적이며 에러 지향적인 수고를 하지 않아도 된다.

- Stream 인터페이스에 정의된 상당수가 리턴 타입이 Stream이고 나머지는 void형이다.
  - 리턴 타입이 Stream
    - 리턴 터입이 Stream인 메서드들은 리턴 결과를 이용해서 데이터를 ***중간에 변형 혹은 필터링한 후 다시 Stream 객체를 만들어서 결과를 리턴***한다.
    - 작업을 반복적으로 수행할 수 있어 중간 연산 메서드라고 한다.
  - 리턴 타입이 void
    - 리턴 타입이 void형 메서드들은 주로 ***Stream을 이용해서 데이터를 최종적으로 소비***한다.
    - 이러한 메서드들을 최종 연산 메서드라고 한다.
- Stream 객체는 불변성이라는 특징이 있다.
  - 원천 데이터를 가공한 것이 아닌 완전히 새롭게 생성된 데이터를 제공한다.
  - 병렬 처리가 가능하기 때문에 데이터의 정합성을 확보하기 위하여 불변 데이터를 제공한다.

### 기본형 스트림 인터페이스

- Strema 인터페이스를 확인해보면 제네릭 타입을 명시적으로 지정해야한다.
- 때문에 int, long, double과 같은 원시 데이터 처리시 성능면에서 취약해진다.
  - 해당 데이터는 객체가 아니기 때문에 Stream 내부에서 오토 박싱과 언박싱이 빈번하게 발생하고, 이는 처리 시간을 급격하게 증가시킨다.
- 그래서 스트림 API는 기본형으로 많이 사용하는 int, long, double을 위해 별도의 인터페이스르 제공한다.
  - DoubleStream, IntStream, LongStream
  - 해당 Stream 인터페이스는 참조한 객체를 데이터로 사용하지 않고 기본형 데이터를 사용한다.
  - 데이터가 자동으로 박싱/언박싱 되지 않기 때문에 처리 속도가 빨라진다.
- 또한 기본형 스트림 인터페이스는 기본형 데이터를 처리하기 위한 특별한 메서드를 제공한다.
  - sum, max, min

### 스트림의 기본 특징
- 스트림은 한번 사용하고 나면 다시 사용할 수 없다.
- 최종 연산 메서드를 사용한 스트림은 다시 사용할 수 없다.

### 스트림 빌더
- 스트림은 데이터를 소모하는 역할만 하고 데이터를 생성하는 역할을 수행하지 않는다.
- 하지만 스트림에서는 데이터를 처리하는 것에서 끝나지 않고 데이터를 직접 생성하기 위한 기능도 제공하는데 그것이 바로 스트림 빌더이다.
- 

> https://futurecreator.github.io/2018/08/26/java-8-streams/